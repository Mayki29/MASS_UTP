<!-- pages/configuracion.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración - MASS</title>
    <!-- Estilos -->
    <link rel="icon" type="image/png" href="../assets/favicon.png">
    <link rel="stylesheet" href="../styles/common.css">
    <link rel="stylesheet" href="../styles/configuracion.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <script>
        // Script para aplicar el tema guardado inmediatamente
        (function() {
            // 1. Obtener el objeto completo de configuración
            const settingsString = localStorage.getItem('appSettings');
            if (settingsString) {
                // 2. Convertirlo a un objeto JavaScript
                const settings = JSON.parse(settingsString);
                // 3. Si existe una preferencia de tema y es 'oscuro', aplicar la clase
                if (settings && settings.temaVisual === 'oscuro') {
                    document.body.classList.add('dark-theme');
                }
            }
        })();
    </script>
    <header>
        <div class="logo">
            <img src="../assets/store-icon-flat-design-by-Vexels.svg" alt="Logo MASS" width="30" height="30">
            <span>MASS</span>
        </div>
        <nav>
            <ul>
                <li><a href="main.html">Inicio</a></li>
                <li><a href="productos.html">Productos</a></li>
                <li><a href="inventario.html">Inventario</a></li>
                <li><a href="ventas.html">Ventas</a></li>
                <li><a href="reportes.html">Reportes</a></li>
                <li><a href="historial_ventas.html">Historial</a></li>
            </ul>
        </nav>
        <div class="user-dropdown">
            <div class="user-info">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
                <span id="userInfo">Admin</span>
            </div>
            <div class="user-dropdown-content">
                <a href="perfil.html">Ver Perfil</a>
                <a href="configuracion.html" style="font-weight: bold;">Configuración</a>
                <a href="ayuda.html">Ayuda</a>
                <hr style="margin: 0;">
                <a href="login.html" id="logoutButton">Cerrar Sesión</a>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1>Configuración del Sistema</h1>

            <section class="settings-section">
                <h2>Notificaciones</h2>
                <div class="setting-item">
                    <label for="notificacionesEmail">Recibir notificaciones por email (stock bajo, etc.)</label>
                    <label class="switch">
                        <input type="checkbox" id="notificacionesEmail" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </section>

            <section class="settings-section">
                <h2>Inventario</h2>
                <div class="setting-item">
                    <label for="umbralStockBajo">Umbral para alertas de "Stock Bajo" (unidades)</label>
                    <input type="number" id="umbralStockBajo" value="20" min="0">
                </div>
            </section>

            <section class="settings-section">
                <h2>Apariencia</h2>
                <div class="setting-item">
                    <label for="temaVisual">Tema Visual de la Aplicación</label>
                    <select id="temaVisual">
                        <option value="claro">Claro (Por defecto)</option>
                        <option value="oscuro">Oscuro (Próximamente)</option>
                    </select>
                </div>
            </section>

            <div class="form-actions">
                <button id="guardarConfigBtn">Guardar Configuración</button>
            </div>
        </div>
    </main>

    <footer>© 2025 Mass - Todos los derechos reservados</footer>

    <!-- Scripts -->
    <script src="../scripts/shared.js"></script>
    <script src="../scripts/configuracion.js"></script>
</body>
</html>